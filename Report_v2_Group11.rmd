
---
title: "Insights into arXiv Articles Data"
author:
- Gabe Gress
- Minyue Hu
- Tina Dantono
- Kristin West
date: "11/5/2020"
output:
  pdf_document: default
  html_document:
    df_print: paged
subtitle: STAT 405/605 Final Project Report
---

```{r echo=FALSE, include = FALSE}
library(knitr)
library(RSQLite)
library(stringr)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(ggmap)
```

\maketitle
\tableofcontents
\newpage

\section{Introduction}
The arXiv (pronounced ar-chi-ve) database, hosted primarily by Cornell University, is an open-access archive for over 1,700,000 scholarly articles. Scientists utilize arXiv to distribute their research worldwide and to illicit reviews from member institutions prior to publication. The publication time of the documents provided in the database range from 1996 to 2020. Our research topic debated whether different authors have different propensities for research topics based on publicly available collections on the arXiv website. The main problem we seek to address is in which academic fields are scientific papers most and least frequently published and why. Before solving this problem, we intend to solve the following first: 1) which year has the largest number of scientific papers published on average, 2) the number of papers published in each arXiv category per year, 3) the geographical distribution of the publishers and the types of papers they published, 4) the universities to which the researchers belong, 5) the influencing factors on the papers (i.e. funding) and so on. 

\subsection{Main Dataset}
Our main dataset is the arXiv Bulk Data from the arXiv official website 
(link: https://arxiv.org/help/bulk_data).
 \newline
The web-based arXiv database, which started on August 14, 1991, serves to collect preprints of research papers on physics, mathematics, computer science, quantitative biology, quantitative finance, statistics, electrical engineering and systems science, and economics. By the end of 2014, the collection had reached 1 million articles. As of October 2016, the submission rate has exceeded 10,000 articles per month. We chose to study the literature information on the arXiv website because the existence of arXiv is one of the factors that created the so-called open access movement in the scientific publishing industry. Nowadays, some mathematicians and scientists are used to uploading their papers to arXiv.org before submitting them to professional academic journals. This trend has had a considerable impact on the business model of traditional academic journals.


\begin{itemize}
  \item Time: 
    \begin{itemize}
      \item Comes from ID serial number
    \end{itemize}
  \item Categories
      \begin{itemize}
        \item Physics
        \item Mathematics
        \item Quantitative Biology
        \item Computer Science
        \item Statistics
        \item Quantitative Finance
        \item Electrical Engineering and Systems Science
        \item Economics
      \end{itemize}
  \item Number of Pages:
    \begin{itemize}
      \item Comes from Comment
    \end{itemize}
  \item Authors
  \item Submitter
  \item Journal Reference
  \item Digital Object Identifier (DOI)
\end{itemize}

\subsection{Auxillary Dataset}
At present, the reference documents we have are the names and geographical coordinates of American colleges and universities. The reference data comes from the Department of Homeland Security, so the reliability is extremely high (link: https://catalog.data.gov/dataset/colleges-and-universities-cb8a4). We will attempt to associate this data with the publisher of each article in the source file through this reference file. 


\section{Research Question}
Which academic fields are scientific papers most and least frequently published and why.

\section{Data Visualization}
```{r, echo=TRUE}
#read the file
arxiv <- read.csv("arxiv-dataset.csv",stringsAsFactors = FALSE)
names(arxiv) <- c("X", "ID", "Submitter", "Authors", "Title", "Comments", 
                  "JournalRef", "DOI", "ReportNo", 
                  "Categories", "License", "Abstract", "Versions", 
                  "UpdateDate", "AuthorsParsed")

yearsarx <- sapply(arxiv$ID,as.character)
yearsarx <- str_extract(yearsarx, pattern="(\\d{4})")
datesarx <- as.Date(paste(yearsarx, "01",sep=""), "%y%m%d")

#pages
commentsarx <- arxiv$Comments

```


```{r, echo=TRUE}
pagesarx <- str_extract(commentsarx, "(\\d)+(?= pages)")

#replace NA in pagesarx to 0
newpagesarx <- as.data.frame(pagesarx)
newpagesarx[is.na(newpagesarx)] <- 0

#merge table
Time_Pages <- data.frame("Time" = datesarx,
                         "Pages" = as.numeric(unlist(newpagesarx)))

#combine 2 plots

#Total Amount of ArXiv Paper over Time
ggplot(as.data.frame(yearsarx)) + 
  stat_count() + 
  aes(x = datesarx) +
  labs(title="ArXiv Papers Amount over Time", x="Time", y="Amount Count")

#Total Amount of ArXiv Paper Amount over Time
ggplot(Time_Pages) + 
  aes(x = Time) + 
  aes(y = Pages) +
  labs(title="ArXiv Papers Pages over Time", x="Time", y="Page Count") +
  geom_bar(stat ="identity")
```


```{r, eval=FALSE}
#since in the Commment, some shows pp,pp. or -pages rather than "pages"
#thus we use str_replace_all to change
str_replace_all(commentsarx, "pp" , "pages")
str_replace_all(commentsarx, "pp." , "pages")
str_replace_all(commentsarx, "-pages" , " pages")

```


```{r, echo=TRUE}
#important notes: 
#I identify the discipline at the beginning as the primary focus of literature

#Physics
arxiv$Categories[str_starts(arxiv$Categories, "astro-ph")] <- "Astrophysics"
arxiv$Categories[str_starts(arxiv$Categories, "cond-mat")] <- "Condensed Matter"
arxiv$Categories[str_starts(arxiv$Categories, "supr-con")] <- "Condensed Matter"
arxiv$Categories[str_starts(arxiv$Categories, "mtrl-th")] <- "Condensed Matter"
arxiv$Categories[str_starts(arxiv$Categories, "gr-qc")] <- "General Relativity and Quantum Cosmology"
arxiv$Categories[str_starts(arxiv$Categories, "hep")] <- "High Energy Physics"
arxiv$Categories[str_starts(arxiv$Categories, "math-ph")] <- "Mathematical Physics"
arxiv$Categories[str_starts(arxiv$Categories, "nlin")] <- "Nonlinear Sciences"
arxiv$Categories[str_starts(arxiv$Categories, "adap")] <- "Nonlinear Sciences"
arxiv$Categories[str_starts(arxiv$Categories, "chao")] <- "Nonlinear Sciences"
arxiv$Categories[str_starts(arxiv$Categories, "solv")] <- "Nonlinear Sciences"
arxiv$Categories[str_starts(arxiv$Categories, "patt-")] <- "Nonlinear Sciences"

arxiv$Categories[str_starts(arxiv$Categories, "nucl")] <- "Nuclear Physics"
arxiv$Categories[str_starts(arxiv$Categories, "physics")] <- "Other Physics"
arxiv$Categories[str_starts(arxiv$Categories, "acc")] <- "Other Physics"
arxiv$Categories[str_starts(arxiv$Categories, "atom")] <- "Other Physics"
arxiv$Categories[str_starts(arxiv$Categories, "ao")] <- "Other Physics"
arxiv$Categories[str_starts(arxiv$Categories, "bayes")] <- "Other Physics"
arxiv$Categories[str_starts(arxiv$Categories, "chem-")] <- "Other Physics"
arxiv$Categories[str_starts(arxiv$Categories, "plasm")] <- "Other Physics"

arxiv$Categories[str_starts(arxiv$Categories, "quant-ph")] <- "Quantum Physics"

#math
arxiv$Categories[str_starts(arxiv$Categories, "math")] <- "Math"
arxiv$Categories[str_starts(arxiv$Categories, "alg")] <- "Math"
arxiv$Categories[str_starts(arxiv$Categories, "q-")] <- "Math"
arxiv$Categories[str_starts(arxiv$Categories, "funct-")] <- "Math"
arxiv$Categories[str_starts(arxiv$Categories, "dg-ga")] <- "Math"

#Computer Science
arxiv$Categories[str_starts(arxiv$Categories, "CoRR")] <- "Computer Science"
arxiv$Categories[str_starts(arxiv$Categories, "cs")] <- "Computer Science"
arxiv$Categories[str_starts(arxiv$Categories, "cmp")] <- "Computer Science"
arxiv$Categories[str_starts(arxiv$Categories, "comp")] <- "Computer Science"

#the rest
arxiv$Categories[str_starts(arxiv$Categories, "q-bio")] <- "Quantitative Biology"
arxiv$Categories[str_starts(arxiv$Categories, "q-fin")] <- "Quantitative Finance"
arxiv$Categories[str_starts(arxiv$Categories, "stat")] <- "Statistics"
arxiv$Categories[str_starts(arxiv$Categories, "eess")] <- "Electrical Engineering and Systems Science"
arxiv$Categories[str_starts(arxiv$Categories, "econ")] <- "Economics"

category_arxiv <-  table(arxiv$Categories)

physics_tot <- as.numeric(category_arxiv)[1] + 
  as.numeric(category_arxiv)[3] +
  as.numeric(category_arxiv)[6] +
  as.numeric(category_arxiv)[7] + 
  as.numeric(category_arxiv)[9] + 
  as.numeric(category_arxiv)[10] +
  as.numeric(category_arxiv)[11] +
  as.numeric(category_arxiv)[12] +
  as.numeric(category_arxiv)[13]

category_arxiv_final <- data.frame(
  Category = c("Physics", "Math", 
              "Computer Science", 
              "Statistics", "Electrical Engineering and Systems Science",
              "Economics"), 
  Amount = c(physics_tot, as.numeric(category_arxiv)[8], 
             as.numeric(category_arxiv)[2], as.numeric(category_arxiv)[14],
             as.numeric(category_arxiv)[5], as.numeric(category_arxiv)[4]), 
  
  stringsAsFactors = FALSE
)

category_arxiv_final

#plot for all subjects
ggplot(data = category_arxiv_final) + 
  aes(Category, Amount) +   
  geom_bar(stat='identity', width=0.5, color='red',fill='steelblue') +
  xlab("Categories") + 
  ylab("Number of Papers Submitted") + 
  ggtitle("Number of Papers Submitted by Category")  + 
  theme(panel.background = element_rect(fill = "#BFD5E3", colour = "#6D9EC1",
                                    size = 2, linetype = "solid"),
    panel.grid.major = element_line(size = 0.25, linetype = 'solid',
                                    colour = "black"), 
    panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
                                    colour = "black")) + 
  theme(plot.background = element_rect(fill = "white"))  + 
  theme(strip.text = element_text(size = 10)) + 
  theme(axis.text.x = element_text(angle = 20, hjust = 1, size = 6)) + 
  theme(axis.text.y = element_text(size = 10)) + 
  theme(axis.title.x = element_text(size = 10) + 
          theme(axis.title.y = element_text(size = 10), 
                theme(title =element_text(size = 10))))

#plot for Physics subject
physics_sector <- data.frame(
  Category = c("Astrophysics", "Condensed Matter", 
              "General Relativity and Quantum Cosmology", 
              "High Energy Physics", "Mathematical Physics",
              "Nonlinear Sciences", "Nuclear Physics" ,
              "Other Physics", "Quantum Physics"), 
  
  Amount = c(as.numeric(category_arxiv)[1], as.numeric(category_arxiv)[3],
             as.numeric(category_arxiv)[6] , as.numeric(category_arxiv)[7] ,
             as.numeric(category_arxiv)[9] , as.numeric(category_arxiv)[10],
             as.numeric(category_arxiv)[11], as.numeric(category_arxiv)[12],
             as.numeric(category_arxiv)[13]),
  
  stringsAsFactors = FALSE
)

physics_sector

ggplot(data = physics_sector) + 
  aes(Category, Amount) +   
  geom_bar(stat='identity', width=0.5, color='red',fill='midnightblue') +
  xlab("Physics Categories") + 
  ylab("Number of Papers Submitted") + 
  ggtitle("Number of Papers Submitted by Physics Category")  + 
  theme(panel.background = element_rect(fill = "pink1", colour = "midnightblue",
                                    size = 2, linetype = "solid"),
    panel.grid.major = element_line(size = 0.25, linetype = 'solid',
                                    colour = "black"), 
    panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
                                    colour = "black")) + 
  theme(plot.background = element_rect(fill = "white"))  + 
  theme(strip.text = element_text(size = 10)) + 
  theme(axis.text.x = element_text(angle = 20, hjust = 1, size = 6)) + 
  theme(axis.text.y = element_text(size = 10)) + 
  theme(axis.title.x = element_text(size = 10) + 
          theme(axis.title.y = element_text(size = 10), 
                theme(title =element_text(size = 10))))

```

```{r,echo=TRUE}
#use str_length to analyze Title length
cate_Min <- min(str_length(arxiv$Title))
cate_Max <- max(str_length(arxiv$Title))
cate_Med <- median(str_length(arxiv$Title))
cate_Mean <- mean(str_length(arxiv$Title))
cate_SE <- sd(str_length(arxiv$Title))/sqrt(length(str_length(arxiv$Title)))
cate_first_Qua <- as.numeric(quantile(str_length(arxiv$Title),c(0.25)))
cate_third_Qua <- as.numeric(quantile(str_length(arxiv$Title),c(0.75)))
cate_IQR <- cate_third_Qua - cate_first_Qua
cate_table <- data.frame(cate_Mean, cate_Min, cate_Max, cate_Med, 
                         cate_SE, cate_first_Qua, cate_third_Qua,
                         cate_IQR)
names(cate_table) <-  c("Mean", "Minimum", "Maximum", "Median",
                        "Standard Error", "First Quartile", "Third Quartile", 
                        "IQR")
cate_table
```

\section{Data Investigation}
We expect that the final results may show that specific research fields are of greater interest as time passes from 1996 to 2020, which can provide a general reference for future researchers. Further, we anticipate that influencing factors like funding, may be responsible for this shift.
 \newline
At this time, we do not have not completed the analysis needed to produce any concrete conclusions regarding our main question. While we can see, from our plots, that the number of articles published to arXiv has increased, the number of total pages published has increased, and that certain categories are more popular than others in sum, we are still working to link our arXiv dataset to our secondary data source. Once this linkage has been established, we will be able to observe the propensity of research topics on a geographic basis and over time. Further, we are still in the process of working to plot the change in papers published per category per year.
 \newline

\section{Outline of the Rest of the Report}
The popularity and propensity of certain research topics geographically
 \newline
The popularity and propensity of certain research topics over time
 \newline
The underlying factors that may influence the popularity and propensity research topics, such as funding level 
\newline
Citation Network analysis based on the arXiv data  
\newline
Other information depending on if other secondary data sources are utilized

\section{Results}

\section{Conclusion}

\section{Appendix}